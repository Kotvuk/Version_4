# KotvukAI

**–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å –ò–ò**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
cd crypto-analyzer
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env ‚Äî –∑–∞–¥–∞–π—Ç–µ JWT_SECRET –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
npm install
node server.js
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: **http://localhost:3000**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ó–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`:

```
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=your-secure-password
ADMIN_NAME=Administrator
JWT_SECRET=your-secret-key-min-32-chars
```

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –≤—Å–µ 3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ).

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è |
|-----------|----------|-------------|
| `JWT_SECRET` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤ (–º–∏–Ω. 32 —Å–∏–º–≤–æ–ª–∞) | ‚úÖ –î–∞ |
| `ADMIN_EMAIL` | Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ù–µ—Ç |
| `ADMIN_PASSWORD` | –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ù–µ—Ç |
| `ADMIN_NAME` | –ò–º—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ù–µ—Ç |
| `CORS_ORIGIN` | –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–π origin –¥–ª—è CORS | –ù–µ—Ç (default: localhost:3000) |
| `NODE_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ (development/production) | –ù–µ—Ç |
| `GROQ_KEY_1..15` | API –∫–ª—é—á–∏ Groq –¥–ª—è –ò–ò –∞–Ω–∞–ª–∏–∑–∞ | –ù–µ—Ç |
| `GROQ_MODEL_1..5` | –ú–æ–¥–µ–ª–∏ Groq | –ù–µ—Ç |

---

## üìã –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–≤—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è) —Å httpOnly cookie
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –∏ FK constraints
- –î–∞—à–±–æ—Ä–¥ —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–º –ø—Ä–æ—Ñ–∏—Ç–∞
- –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ —Å –¥–µ–º–æ-—Å—á–µ—Ç–∞–º–∏ (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π + –ò–ò)
- –°–∫—Ä–∏–Ω–µ—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç (—Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Binance)
- –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Ä—ã–Ω–∫–∞
- –ò–ò –∞–Ω–∞–ª–∏–∑ (–∞–Ω—Å–∞–º–±–ª–µ–≤—ã–π Groq)
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS, IDOR, CSRF
- Rate limiting, Helmet, CORS

‚ùå **–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:**
- –ì—Ä–∞—Ñ–∏–∫ (–ø—Ä–æ—Å–º–æ—Ç—Ä –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏

üìö **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [PROJECT_STATUS.md](PROJECT_STATUS.md)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

```
crypto-analyzer/
‚îú‚îÄ‚îÄ server.js              # Express entry point (thin)
‚îú‚îÄ‚îÄ database.js            # SQLite –ª–æ–≥–∏–∫–∞ + –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .env.example           # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # JWT authMiddleware + generateToken
‚îÇ   ‚îî‚îÄ‚îÄ errorHandler.js    # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ + asyncHandler
‚îÇ
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # POST /api/auth/login, /register, /logout
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.js       # GET /api/dashboard/stats, /profit-chart
‚îÇ   ‚îú‚îÄ‚îÄ accounts.js        # GET/POST/PATCH /api/demo-accounts/*
‚îÇ   ‚îú‚îÄ‚îÄ market.js          # GET /api/market/* (price, klines, global, ...)
‚îÇ   ‚îî‚îÄ‚îÄ ai.js              # POST /api/ai/analyze
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ groq.js            # groqRequest, callGroqEnsemble
‚îÇ   ‚îî‚îÄ‚îÄ binance.js         # fetchJson, loadAllSymbols, fetchMultipleAssetData
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ constants.js       # –í—Å–µ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ indicators.js      # calcRSI, calcEMA, calcMACD, calcBollinger
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html         # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.html     # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.js       # –ù–∞–≤–∏–≥–∞—Ü–∏—è + –æ–±—â–∞—è –ª–æ–≥–∏–∫–∞ + apiFetch
‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.css      # –í—Å–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ styles.css         # –°—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ pages/             # –ú–û–î–£–õ–ò –°–¢–†–ê–ù–ò–¶
‚îÇ       ‚îú‚îÄ‚îÄ common.js           # escapeHtml, showToast, getUnderDevelopmentContent
‚îÇ       ‚îú‚îÄ‚îÄ dashboard-page.js   # –ü–∞–Ω–µ–ª—å: –î–∞—à–±–æ—Ä–¥
‚îÇ       ‚îú‚îÄ‚îÄ trades-page.js      # –ü–∞–Ω–µ–ª—å: –°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫
‚îÇ       ‚îú‚îÄ‚îÄ screener-page.js    # –ü–∞–Ω–µ–ª—å: –°–∫—Ä–∏–Ω–µ—Ä
‚îÇ       ‚îú‚îÄ‚îÄ heatmap-page.js     # –ü–∞–Ω–µ–ª—å: –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ ai-page.js          # –ü–∞–Ω–µ–ª—å: –ò–ò –ê–Ω–∞–ª–∏–∑
```

### üéØ **–ì–¥–µ —á—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å?**

| –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å | –§–∞–π–ª |
|--------------------|------|
| **–§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** | `public/index.html`, `public/auth.js` |
| **–í–∏–¥–∂–µ—Ç—ã –¥–∞—à–±–æ—Ä–¥–∞** | `public/pages/dashboard-page.js` |
| **–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ—Ñ–∏—Ç–∞** | `public/pages/dashboard-page.js` ‚Üí `loadProfitChart()` |
| **–°–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫** | `public/pages/trades-page.js` |
| **–°–∫—Ä–∏–Ω–µ—Ä** | `public/pages/screener-page.js` |
| **–¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞** | `public/pages/heatmap-page.js` |
| **–ò–ò –ê–Ω–∞–ª–∏–∑** | `public/pages/ai-page.js` |
| **–°—Ç–∏–ª–∏** | `public/dashboard.css` |
| **API —Ä–æ—É—Ç—ã** | `routes/*.js` |
| **Middleware** | `middleware/*.js` |
| **–°–µ—Ä–≤–∏—Å—ã** | `services/*.js` |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | `database.js` |
| **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã** | `utils/constants.js` |

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü—ã:**
- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `demo_accounts` ‚Äî –¥–µ–º–æ-—Å—á–µ—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π + –ò–ò) —Å CHECK constraints
- `charts` ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏
- `analyses` ‚Äî –ò–ò –∞–Ω–∞–ª–∏–∑—ã
- `trades` ‚Äî —Å–¥–µ–ª–∫–∏ —Å CHECK constraints

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Foreign keys —Å ON DELETE CASCADE
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª—è—Ö
- PRAGMA foreign_keys = ON

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ë–î:** [DATABASE.md](DATABASE.md)

---

## üîå API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/auth/login` ‚Äî –≤—Ö–æ–¥
- `POST /api/auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/logout` ‚Äî –≤—ã—Ö–æ–¥ (–æ—á–∏—Å—Ç–∫–∞ cookie)

### –î–∞—à–±–æ—Ä–¥ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/dashboard/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤
- `GET /api/dashboard/profit-chart?days=N` ‚Äî –¥–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∞

### –î–µ–º–æ-—Å—á–µ—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/demo-accounts` ‚Äî —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤
- `GET /api/demo-accounts/:id/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á—ë—Ç–∞
- `GET /api/demo-accounts/:id/trades` ‚Äî —Å–¥–µ–ª–∫–∏ —Å—á—ë—Ç–∞
- `POST /api/demo-accounts/:id/trades` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å–¥–µ–ª–∫—É
- `PATCH /api/demo-accounts/:id/balance` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å

### –†—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- `GET /api/market/price/:symbol` ‚Äî —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
- `GET /api/market/klines/:symbol` ‚Äî —Å–≤–µ—á–∏
- `GET /api/market/global` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è
- `GET /api/market/fear-greed` ‚Äî –∏–Ω–¥–µ–∫—Å —Å—Ç—Ä–∞—Ö–∞ –∏ –∂–∞–¥–Ω–æ—Å—Ç–∏
- `GET /api/market/search?q=` ‚Äî –ø–æ–∏—Å–∫ –∞–∫—Ç–∏–≤–æ–≤
- `GET /api/market/screener` ‚Äî —Å–∫—Ä–∏–Ω–µ—Ä
- `GET /api/market/heatmap` ‚Äî —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞

### –ò–ò –ê–Ω–∞–ª–∏–∑ (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, rate limited)
- `POST /api/ai/analyze` ‚Äî –∞–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–∞

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Node.js + Express
- SQLite3 (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- bcryptjs (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
- jsonwebtoken (JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- helmet (HTTP security headers)
- cors (CORS)
- cookie-parser (httpOnly cookies)
- express-rate-limit (rate limiting)

**Frontend:**
- Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- Chart.js (–≥—Ä–∞—Ñ–∏–∫–∏)
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º)

**–î–∏–∑–∞–π–Ω:**
- Space Grotesk + Inter (—à—Ä–∏—Ñ—Ç—ã)
- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

**–ê–≤—Ç–æ—Ä:** Á•êÂøó ÁâßË∞∑  
**–¢–µ–º–∞ –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ (Windows –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ) —Å –ò–ò –∏ —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤  
**–î–∞—Ç–∞:** 22.02.2026
